package com.dialoguespace.service;

import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.springframework.stereotype.Service;
import org.springframework.web.multipart.MultipartFile;

import com.dialoguespace.vo.FileVO;

@Service
public class CommonService {

	// 검색 조건 Map에 담기
	public Map makeSrchInfo(String searchType, String searchKeyword) throws Exception {
		Map srchInfo = new HashMap();
		srchInfo.put("searchType", searchType);
		srchInfo.put("searchKeyword", searchKeyword);
		
		return srchInfo;
	}
	
	// 다중 MultipartFile에서 VO 설정 및 업로드 파일 처리 후 List 리턴
	public List<FileVO> getFileList(MultipartFile[] files, String category, String path) throws IOException {
		List<FileVO> fileList = new ArrayList<>();
		for(int i = 0; i < files.length; i++) {
			MultipartFile file = files[i];
			FileVO fVO = this.setFileVOByMultipart(file, category, path);
			if (vo != null) {
				fileList.add(fVO);
			}
		}
		
	}

	
}
