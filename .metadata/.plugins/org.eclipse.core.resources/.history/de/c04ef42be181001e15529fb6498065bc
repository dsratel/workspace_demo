<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
	
<mapper namespace="commentMapper">
	<!-- 댓글 등록 -->
	<insert id="writeComment" parameterType="commentDto">
		INSERT INTO t_comment(id, pw, content, boardseq, pid, regdate) VALUES(#{id}, #{pw}, #{content}, #{boardseq}, #{pid}, sysdate())
	</insert>
	
	<!-- 댓글 목록 -->
	<select id="cmtListByBoardseq" parameterType="Integer" resultType="commentDto">
		SELECT cmt.*, (SELECT nickname FROM t_member WHERE id LIKE cmt.id) as nickname
		FROM (SELECT seq, id, pw, content, boardseq, pid, regdate, modifydate FROM t_comment WHERE boardseq = #{boardseq}) cmt;
	</select>
	
	<!-- 댓글 삭제 -->
	<delete id="deleteCmt" parameterType="Integer">
		DELETE FROM t_comment WHERE seq = #{seq}
	</delete>
	
	<!-- 댓글 비밀번호 확인 -->
	<select id="passwordCheck" parameterType="Integer">
		
	</select>
	
</mapper>